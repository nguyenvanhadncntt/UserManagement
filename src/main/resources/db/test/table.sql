;             
CREATE USER IF NOT EXISTS SA SALT '1979911e351314dc' HASH 'fd928a4d3cc73f6ce020fafda5a288bcdbca1563c6ea44f830f5bb7376b28446' ADMIN;           
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_9DE53D5F_CA4C_4C3F_9EAA_9174DA05B459 START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_0461B3B0_3340_4FEA_97AB_529AF84D45FF START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_64FFF0BC_9A55_473A_A89F_6D9D85C1D3D6 START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_E0B96125_064D_48AF_9A29_2513F688F168 START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_C72A9B97_3EB5_4A67_B77F_0A20DAE52747 START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_8FD209CB_04A2_48E8_A3FB_CF41B3205184 START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_B6538BCC_5218_461F_8EF0_569526994AAA START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_075BB419_978C_4941_8F9E_8906006B796D START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_B8351E78_C4A4_4C91_9F26_C168C086C3B0 START WITH 1 BELONGS_TO_TABLE;    
CREATE MEMORY TABLE PUBLIC.BLOCK_USER(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_E0B96125_064D_48AF_9A29_2513F688F168) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_E0B96125_064D_48AF_9A29_2513F688F168,
    BLOCK_TIME TIMESTAMP,
    NUMBER_FAIL INTEGER NOT NULL,
    USER_ID BIGINT NOT NULL
);      
ALTER TABLE PUBLIC.BLOCK_USER ADD CONSTRAINT PUBLIC.CONSTRAINT_6 PRIMARY KEY(ID);             
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.BLOCK_USER;              
CREATE MEMORY TABLE PUBLIC.GROUPS(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_9DE53D5F_CA4C_4C3F_9EAA_9174DA05B459) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_9DE53D5F_CA4C_4C3F_9EAA_9174DA05B459,
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP(),
    DESCRIPTION VARCHAR(255),
    NAME VARCHAR(255) NOT NULL,
    NON_DEL TINYINT DEFAULT 1 NOT NULL
);      
ALTER TABLE PUBLIC.GROUPS ADD CONSTRAINT PUBLIC.CONSTRAINT_7 PRIMARY KEY(ID); 
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.GROUPS;  
CREATE MEMORY TABLE PUBLIC.ROLE(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_B8351E78_C4A4_4C91_9F26_C168C086C3B0) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_B8351E78_C4A4_4C91_9F26_C168C086C3B0,
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP() NOT NULL,
    DESCRIPTION VARCHAR(255),
    NON_DEL TINYINT DEFAULT 1 NOT NULL,
    ROLE_NAME VARCHAR(255) NOT NULL,
    SCOPE VARCHAR(255) NOT NULL
);        
ALTER TABLE PUBLIC.ROLE ADD CONSTRAINT PUBLIC.CONSTRAINT_2 PRIMARY KEY(ID);   
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ROLE;    
CREATE MEMORY TABLE PUBLIC.ROLE_GROUP(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_0461B3B0_3340_4FEA_97AB_529AF84D45FF) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_0461B3B0_3340_4FEA_97AB_529AF84D45FF,
    GROUP_ID BIGINT NOT NULL,
    ROLE_ID BIGINT NOT NULL
);     
ALTER TABLE PUBLIC.ROLE_GROUP ADD CONSTRAINT PUBLIC.CONSTRAINT_B PRIMARY KEY(ID);             
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ROLE_GROUP;              
CREATE MEMORY TABLE PUBLIC.TOKEN_VERFICATION(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_075BB419_978C_4941_8F9E_8906006B796D) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_075BB419_978C_4941_8F9E_8906006B796D,
    EXPIRE_TIME TIMESTAMP NOT NULL,
    TOKEN_CODE VARCHAR(255) NOT NULL,
    TYPE INTEGER NOT NULL,
    USER_ID BIGINT NOT NULL
);     
ALTER TABLE PUBLIC.TOKEN_VERFICATION ADD CONSTRAINT PUBLIC.CONSTRAINT_1 PRIMARY KEY(ID);      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TOKEN_VERFICATION;       
CREATE MEMORY TABLE PUBLIC.USER(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_C72A9B97_3EB5_4A67_B77F_0A20DAE52747) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_C72A9B97_3EB5_4A67_B77F_0A20DAE52747,
    EMAIL VARCHAR(255) NOT NULL,
    ENABLE TINYINT DEFAULT 0 NOT NULL,
    NON_DEL TINYINT DEFAULT 1 NOT NULL,
    NON_LOCKED TINYINT DEFAULT 1 NOT NULL,
    PASSWORD VARCHAR(255) NOT NULL
);    
ALTER TABLE PUBLIC.USER ADD CONSTRAINT PUBLIC.CONSTRAINT_27 PRIMARY KEY(ID);  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.USER;    
CREATE MEMORY TABLE PUBLIC.USER_DETAIL(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_B6538BCC_5218_461F_8EF0_569526994AAA) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_B6538BCC_5218_461F_8EF0_569526994AAA,
    ADDRESS VARCHAR(255) NOT NULL,
    BIRTHDAY DATE NOT NULL,
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP(),
    FULLNAME VARCHAR(255) NOT NULL,
    GENDER TINYINT NOT NULL,
    PHONE VARCHAR(15) NOT NULL
);     
ALTER TABLE PUBLIC.USER_DETAIL ADD CONSTRAINT PUBLIC.CONSTRAINT_F PRIMARY KEY(ID);            
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.USER_DETAIL;             
CREATE MEMORY TABLE PUBLIC.USER_GROUP(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_64FFF0BC_9A55_473A_A89F_6D9D85C1D3D6) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_64FFF0BC_9A55_473A_A89F_6D9D85C1D3D6,
    JOIN_DATE TIMESTAMP NOT NULL,
    GROUP_ID BIGINT NOT NULL,
    USER_ID BIGINT NOT NULL
);  
ALTER TABLE PUBLIC.USER_GROUP ADD CONSTRAINT PUBLIC.CONSTRAINT_C PRIMARY KEY(ID);             
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.USER_GROUP;              
CREATE MEMORY TABLE PUBLIC.USER_ROLE(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_8FD209CB_04A2_48E8_A3FB_CF41B3205184) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_8FD209CB_04A2_48E8_A3FB_CF41B3205184,
    ROLE_ID BIGINT NOT NULL,
    USER_ID BIGINT NOT NULL
);       
ALTER TABLE PUBLIC.USER_ROLE ADD CONSTRAINT PUBLIC.CONSTRAINT_BC PRIMARY KEY(ID);             
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.USER_ROLE;               
ALTER TABLE PUBLIC.BLOCK_USER ADD CONSTRAINT PUBLIC.UK_O0SAR47XVD3DD91GPA7LVBB52 UNIQUE(USER_ID);             
ALTER TABLE PUBLIC.TOKEN_VERFICATION ADD CONSTRAINT PUBLIC.UK_ENH6B036JKSGBJ3G63H1BA5XQ UNIQUE(USER_ID);      
ALTER TABLE PUBLIC.USER ADD CONSTRAINT PUBLIC.UK_OB8KQYQQGMEFL0ACO34AKDTPE UNIQUE(EMAIL);     
ALTER TABLE PUBLIC.USER_DETAIL ADD CONSTRAINT PUBLIC.FK3OBC7RUAT1J146P8DXFEI6DI FOREIGN KEY(ID) REFERENCES PUBLIC.USER(ID) NOCHECK;           
ALTER TABLE PUBLIC.ROLE_GROUP ADD CONSTRAINT PUBLIC.FKM8XXB8167O203CTJDI2W24MWG FOREIGN KEY(GROUP_ID) REFERENCES PUBLIC.GROUPS(ID) NOCHECK;   
ALTER TABLE PUBLIC.USER_GROUP ADD CONSTRAINT PUBLIC.FKBEGTGNL3OQ004958PISKO4FU4 FOREIGN KEY(GROUP_ID) REFERENCES PUBLIC.GROUPS(ID) NOCHECK;   
ALTER TABLE PUBLIC.BLOCK_USER ADD CONSTRAINT PUBLIC.FKTKP8MKEL1O56MVFJXIIXR03DD FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USER(ID) NOCHECK;      
ALTER TABLE PUBLIC.ROLE_GROUP ADD CONSTRAINT PUBLIC.FK6XJRCYXU7SWYFJ5U4VRPULBJ5 FOREIGN KEY(ROLE_ID) REFERENCES PUBLIC.ROLE(ID) NOCHECK;      
ALTER TABLE PUBLIC.TOKEN_VERFICATION ADD CONSTRAINT PUBLIC.FK6YAIR9NP9HHJGBMF3COF2Q3DU FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USER(ID) NOCHECK;               
ALTER TABLE PUBLIC.USER_ROLE ADD CONSTRAINT PUBLIC.FK859N2JVI8IVHUI0RL0ESWS6O FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USER(ID) NOCHECK;        
ALTER TABLE PUBLIC.USER_ROLE ADD CONSTRAINT PUBLIC.FKA68196081FVOVJHKEK5M97N3Y FOREIGN KEY(ROLE_ID) REFERENCES PUBLIC.ROLE(ID) NOCHECK;       
ALTER TABLE PUBLIC.USER_GROUP ADD CONSTRAINT PUBLIC.FK1C1DSW3Q36679VAIQWVTV36A6 FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USER(ID) NOCHECK;      
